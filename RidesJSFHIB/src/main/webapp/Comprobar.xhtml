<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:ui="http://java.sun.com/jsf/facelets"
 xmlns:h="http://xmlns.jcp.org/jsf/html"
 xmlns:f="http://xmlns.jcp.org/jsf/core"
 xmlns:p="http://primefaces.org/ui">
<f:view>
<h:head><title>Comprobar</title></h:head>
<h:body>
<h:form>
<label>Date: &nbsp;&nbsp;</label>
<p:calendar id="fecha" value="#{main.fecha}" navigator="false"
pattern="dd/MM/yyyy">
 <p:ajax event="dateSelect" listener="#{main.onDateSelect}"></p:ajax>
</p:calendar>

<br /><br />
<label>Origin: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
<p:selectOneMenu id="startDropdown"
							value="#{main.start}">
							<f:selectItems value="#{main.starts}" var="startc"
								itemValue="#{startc}"
								itemLabel="#{startc}" />
							<p:ajax event="valueChange" listener="#{main.fillends}"></p:ajax>
						</p:selectOneMenu>
					
&nbsp;					                          
<h:commandButton value="Check possible destinations" action="#{main.doNothing}"/>
<br /><br />
<label>Destination: </label>
<p:selectOneMenu id="endDropdown"
							value="#{main.end}">
							<f:selectItems value="#{main.finishes}" var="finishc"
								itemValue="#{finishc}"
								itemLabel="#{finishc}" />
						</p:selectOneMenu>
			<br /><br />
<h:commandButton value="Query rides this day" action="#{main.fillRides}"/>			
<br /><br />				
					<table id="ridesTable">
				<tr>
					<th>Driver</th>
					<th>Places left</th>
					<th>Price</th>
				</tr>

				<ui:repeat var="ride" value="#{main.rides}">
					<tr>
						<td>#{ride.driver.name}</td>
						<td>#{ride.nPlaces}</td>
						<td>#{ride.price}</td>
					</tr>
				</ui:repeat>
			</table>
				<br /><br />
<h:commandButton value="Back to main" action="#{main.main}"/>				
</h:form>
</h:body>


</f:view>

</html>